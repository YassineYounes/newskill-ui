<!-- Main Wrapper -->
<div class="main-wrapper">

  <div class="row">

    <!-- Login Banner -->
    <div class="col-lg-4 col-md-6 login-bg">
      <div class="row w-100">
        <div class="col-md-12">
          <owl-carousel-o [options]="registerFiveOwlOptions">
            @for (slide of registerFive; track slide) {
              <ng-template carouselSlide>
                <div class="welcome-login register-step">
                  <div class="login-banner">
                    <img [src]="slide.img" class="img-fluid" alt="Logo">
                  </div>
                  <div class="mentor-course text-center">
                    <h2>{{ slide.content1 }} <br>{{ slide.content2 }}</h2>
                    <p>{{ slide.paragraph }}</p>
                  </div>
                </div>
              </ng-template>
            }
          </owl-carousel-o>
        </div>
      </div>
    </div>
    <!-- /Login Banner -->

    <div class="col-lg-8 col-md-6 login-wrap-bg">

      <!-- Login -->
      <div class="login-wrapper">
        <div class="loginbox register-box">
          <div class="img-logo">
            <img alt="Logo" class="img-fluid" src="assets/img/logo.svg">
            <div class="back-home">
              <a [routerLink]="routes.login">Back to Home</a>
            </div>
          </div>
          <h1 *ngIf="!registrationComplete">Review & Complete Registration</h1>
          <h1 *ngIf="registrationComplete" class="text-success">
            <i class="fas fa-check-circle me-2"></i>Registration Complete!
          </h1>
          <div class="row">
            <div class="col-lg-5">
              <div class="profile-box">
                <div class="circle-progressbar">
                  <div class="circle-progress-percent progress-bar-percent">100%</div>
                  <div class="circle-progress-text">3 of 3</div>
                </div>
                <circle-progress [clockwise]="true" [percent]="100" class="circle-progress-bar"
                                 innerStrokeColor=#e7e8ea outerStrokeColor=#159F46></circle-progress>
                <h3>Registration Complete</h3>
                <div class="personal-detail d-flex align-items-center">
                  <span class="active-color"><i class="fa-solid fa-check"></i></span>
                  <div class="personal-text">
                    <h4>Personal Details</h4>
                    <p class="mb-0">Setup Your personal details</p>
                  </div>
                </div>
                <div class="personal-detail d-flex align-items-center">
                  <span class="active-color"><i class="fa-solid fa-check"></i></span>
                  <div class="personal-text">
                    <h4>Professional & Social Info</h4>
                    <p class="mb-0">Professional details and social profiles</p>
                  </div>
                </div>
                <div class="personal-detail d-flex align-items-center">
                  <span class="active-color"><i class="fa-solid fa-check"></i></span>
                  <div class="personal-text">
                    <h4>Review & Complete</h4>
                    <p class="mb-0">Review information and complete registration</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-7">
              <div class="personal-form">
                
                <!-- Registration Success View -->
                <div *ngIf="registrationComplete" class="registration-success text-center">
                  <div class="success-icon mb-4">
                    <i class="fas fa-check-circle text-success" style="font-size: 4rem;"></i>
                  </div>
                  <h4 class="text-success mb-3">Welcome to NewSkill!</h4>
                  <div class="alert alert-success" *ngIf="successMessage">
                    {{ successMessage }}
                  </div>
                  <p class="mb-4">Your account has been created successfully. You can now start your learning journey!</p>
                  <div class="btn-group">
                    <button (click)="loginNow()" class="btn btn-primary btn-start">
                      <i class="fas fa-sign-in-alt me-2"></i>Sign In Now
                    </button>
                  </div>
                  <p class="mt-3 text-muted">You will be redirected to the login page in a few seconds...</p>
                </div>
                
                <!-- Registration Review & Submit View -->
                <div *ngIf="!registrationComplete">
                  
                  <!-- Error Messages -->
                  <div *ngIf="errors.length > 0" class="alert alert-danger">
                    <h6>Please fix the following errors:</h6>
                    <ul class="mb-0">
                      <li *ngFor="let error of errors">{{ error }}</li>
                    </ul>
                  </div>
                  
                  <h4>Review Your Information</h4>
                  <p class="text-muted mb-4">Please review your information before completing your registration.</p>
                  
                  <!-- Personal Information Review -->
                  <div class="review-section mb-4">
                    <div class="section-header d-flex justify-content-between align-items-center">
                      <h5><i class="fas fa-user me-2"></i>Personal Information</h5>
                      <button type="button" class="btn btn-link btn-sm" (click)="editStep(1)">
                        <i class="fas fa-edit"></i> Edit
                      </button>
                    </div>
                    <div class="review-content">
                      <div class="row">
                        <div class="col-md-6">
                          <strong>Name:</strong> {{ registrationData.firstName }} {{ registrationData.lastName }}
                        </div>
                        <div class="col-md-6">
                          <strong>Email:</strong> {{ registrationData.email }}
                        </div>
                        <div class="col-md-6" *ngIf="registrationData.phoneNumber">
                          <strong>Phone:</strong> {{ registrationData.phoneNumber }}
                        </div>
                        <div class="col-md-6" *ngIf="registrationData.userName">
                          <strong>Username:</strong> {{ registrationData.userName }}
                        </div>
                        <div class="col-md-12">
                          <strong>Role:</strong> 
                          <span class="badge" [class]="registrationData.role === 'Instructor' ? 'bg-primary' : 'bg-success'">
                            <i [class]="registrationData.role === 'Instructor' ? 'fas fa-chalkboard-teacher' : 'fas fa-graduation-cap'"></i>
                            {{ registrationData.role }}
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Professional Information (Instructors Only) -->
                  <div *ngIf="registrationData.role === 'Instructor'" class="review-section mb-4">
                    <div class="section-header d-flex justify-content-between align-items-center">
                      <h5><i class="fas fa-briefcase me-2"></i>Professional Information</h5>
                      <button type="button" class="btn btn-link btn-sm" (click)="editStep(2)">
                        <i class="fas fa-edit"></i> Edit
                      </button>
                    </div>
                    <div class="review-content">
                      <div class="row">
                        <div class="col-md-12" *ngIf="registrationData.title">
                          <strong>Title:</strong> {{ registrationData.title }}
                        </div>
                        <div class="col-md-12" *ngIf="registrationData.website">
                          <strong>Website:</strong> {{ registrationData.website }}
                        </div>
                        <div class="col-md-12" *ngIf="registrationData.bio">
                          <strong>Bio:</strong> {{ registrationData.bio }}
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Social Profiles -->
                  <div class="review-section mb-4" *ngIf="registrationData.facebook || registrationData.twitter || registrationData.instagram || registrationData.linkedin || registrationData.youtube || registrationData.tiktok">
                    <div class="section-header d-flex justify-content-between align-items-center">
                      <h5><i class="fas fa-share-alt me-2"></i>Social Profiles</h5>
                      <button type="button" class="btn btn-link btn-sm" (click)="editStep(2)">
                        <i class="fas fa-edit"></i> Edit
                      </button>
                    </div>
                    <div class="review-content">
                      <div class="social-links">
                        <div *ngIf="registrationData.linkedin" class="social-item">
                          <i class="fab fa-linkedin text-primary"></i> LinkedIn
                        </div>
                        <div *ngIf="registrationData.twitter" class="social-item">
                          <i class="fab fa-twitter text-info"></i> Twitter
                        </div>
                        <div *ngIf="registrationData.facebook" class="social-item">
                          <i class="fab fa-facebook text-primary"></i> Facebook
                        </div>
                        <div *ngIf="registrationData.instagram" class="social-item">
                          <i class="fab fa-instagram text-danger"></i> Instagram
                        </div>
                        <div *ngIf="registrationData.youtube" class="social-item">
                          <i class="fab fa-youtube text-danger"></i> YouTube
                        </div>
                        <div *ngIf="registrationData.tiktok" class="social-item">
                          <i class="fab fa-tiktok text-dark"></i> TikTok
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Terms and Conditions -->
                  <div class="terms-section mb-4">
                    <div class="alert alert-info">
                      <h6><i class="fas fa-info-circle me-2"></i>Terms & Conditions</h6>
                      <p class="mb-2">By creating an account, you agree to our Terms of Service and Privacy Policy.</p>
                      <ul class="mb-0">
                        <li>Your personal information will be kept secure and private</li>
                        <li>You can update your profile information at any time</li>
                        <li *ngIf="registrationData.role === 'Instructor'">As an instructor, you can create and publish courses</li>
                        <li *ngIf="registrationData.role === 'Student'">As a student, you can enroll in courses and track your progress</li>
                      </ul>
                    </div>
                  </div>
                  
                  <!-- Action Buttons -->
                  <div class="btn-group d-flex">
                    <div class="back-btn">
                      <button 
                        type="button"
                        (click)="goBack()" 
                        class="btn btn-back"
                        [disabled]="isSubmitting">
                        <i class="fas fa-arrow-left me-2"></i>Back
                      </button>
                    </div>
                    <div class="next-btn">
                      <button 
                        type="button"
                        (click)="submitRegistration()" 
                        class="btn btn-success btn-start"
                        [disabled]="isSubmitting">
                        <span *ngIf="isSubmitting">
                          <i class="fas fa-spinner fa-spin me-2"></i>Creating Account...
                        </span>
                        <span *ngIf="!isSubmitting">
                          <i class="fas fa-check me-2"></i>Complete Registration
                        </span>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- /Login -->

    </div>

  </div>

</div>
<!-- /Main Wrapper -->
